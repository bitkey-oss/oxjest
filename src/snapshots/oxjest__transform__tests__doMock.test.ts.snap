---
source: src/transform.rs
expression: code
---
import * as __oxjest__ from "oxjest/runtime";
describe("doMock", () => {
	beforeEach(() => {
		import.meta.jest.resetModules();
	});
	it("mock a module first", async () => {
		import.meta.jest.unstable_mockModule("./greeter.ts", () => {
			return { greet: import.meta.jest.fn(() => "Hello from first mocked module!") };
		});
		const { greet } = await import("./greeter.ts");
		expect(greet()).toBe("Hello from first mocked module!");
	});
	it("mock a module second", async () => {
		import.meta.jest.unstable_mockModule("./greeter.ts", () => {
			return { greet: import.meta.jest.fn(() => "Hello from second mocked module!") };
		});
		const { greet } = await import("./greeter.ts");
		expect(greet()).toBe("Hello from second mocked module!");
	});
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb01vY2siXSwic291cmNlcyI6WyJkb01vY2sudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6W10sIm1hcHBpbmdzIjoiO0FBQUEsU0FBUyxnQkFBZ0I7QUFDdkIsa0JBQWlCO0FBQ2YsbUJBQUssY0FBYztHQUNuQjtBQUVGLElBQUcsdUJBQXVCLFlBQVk7QUFDcEMsbUJBQUtBLG9CQUFPLHNCQUFzQjtBQUNoQyxVQUFPLEVBQ0wsbUJBQU8sS0FBSyxTQUFTLGtDQUFrQyxFQUN4RDtJQUNEO0VBQ0YsTUFBTSxFQUFFLFVBQVUsTUFBTSxPQUFPO0FBRS9CLFNBQU8sT0FBTyxDQUFDLENBQUMsS0FBSyxrQ0FBa0M7R0FDdkQ7QUFFRixJQUFHLHdCQUF3QixZQUFZO0FBQ3JDLG1CQUFLQSxvQkFBTyxzQkFBc0I7QUFDaEMsVUFBTyxFQUNMLG1CQUFPLEtBQUssU0FBUyxtQ0FBbUMsRUFDekQ7SUFDRDtFQUNGLE1BQU0sRUFBRSxVQUFVLE1BQU0sT0FBTztBQUUvQixTQUFPLE9BQU8sQ0FBQyxDQUFDLEtBQUssbUNBQW1DO0dBQ3hEO0VBQ0YifQ==
